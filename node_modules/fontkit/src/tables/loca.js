// Generated by CoffeeScript 1.8.0
(function() {
  var r;

  r = require('restructure');

  module.exports = new r.VersionedStruct('head.indexToLocFormat', {
    0: {
      offsets: new r.Array(r.uint16)
    },
    1: {
      offsets: new r.Array(r.uint32)
    }
  });

  module.exports.process = function() {
    var i, _i, _ref, _results;
    if (this.version !== 0) {
      return;
    }
    _results = [];
    for (i = _i = 0, _ref = this.offsets.length; _i < _ref; i = _i += 1) {
      _results.push(this.offsets[i] <<= 1);
    }
    return _results;
  };

  module.exports.preEncode = function() {
    var i, _i, _ref, _results;
    if (this.version != null) {
      return;
    }
    this.version = this.offsets[this.offsets.length - 1] > 0xffff ? 1 : 0;
    if (this.version !== 0) {
      return;
    }
    _results = [];
    for (i = _i = 0, _ref = this.offsets.length; _i < _ref; i = _i += 1) {
      _results.push(this.offsets[i] >>>= 1);
    }
    return _results;
  };

}).call(this);
